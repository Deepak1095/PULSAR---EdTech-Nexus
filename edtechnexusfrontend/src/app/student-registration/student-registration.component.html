<!-- student-registration.component.html -->

<div class="container mx-auto p-4">
  <div class="max-w-md mx-auto">
    <h2 class="text-2xl font-semibold mb-4">Registration</h2>

    <!-- Show registration form if registration is not successful -->
    <form *ngIf="!isRegistrationSuccessful" (ngSubmit)="saveStudentDetails()" class="space-y-4">

      <div class="mb-4">
        <label for="password" class="block text-sm font-medium text-gray-700">Password:</label>
        <input type="password" id="password" name="password" [(ngModel)]="formData.password" required
          class="p-2 rounded-md w-full border focus:outline-none focus:ring-2 focus:ring-blue-500">
      </div>

      <div class="mb-4">
        <label for="email" class="block text-sm font-medium text-gray-700">Email:</label>
        <input type="email" id="email" name="email" [(ngModel)]="formData.email" required
          class="p-2 rounded-md w-full border focus:outline-none focus:ring-2 focus:ring-blue-500">
      </div>

      <div class="mb-4">
        <label for="name" class="block text-sm font-medium text-gray-700">Name:</label>
        <input type="text" id="name" name="name" [(ngModel)]="formData.name" required
          class="p-2 rounded-md w-full border focus:outline-none focus:ring-2 focus:ring-blue-500">
      </div>

      <!-- Add other student details fields here -->
      <!-- Example: -->
      <div class="mb-4">
        <label for="date_of_birth" class="block text-sm font-medium text-gray-700">Date of Birth:</label>
        <input type="date" id="date_of_birth" name="date_of_birth" [(ngModel)]="formData.date_of_birth" required
          class="p-2 rounded-md w-full border focus:outline-none focus:ring-2 focus:ring-blue-500">
      </div>

      <div class="mb-4">
        <label for="major" class="block text-sm font-medium text-gray-700">Major:</label>
        <input type="text" id="major" name="major" [(ngModel)]="formData.major" required
          class="p-2 rounded-md w-full border focus:outline-none focus:ring-2 focus:ring-blue-500">
      </div>

      <div class="mb-4">
        <label for="contact_number" class="block text-sm font-medium text-gray-700">Contact Number:</label>
        <input type="text" id="contact_number" name="contact_number" [(ngModel)]="formData.contact_number" required
          class="p-2 rounded-md w-full border focus:outline-none focus:ring-2 focus:ring-blue-500">
      </div>

      <!-- Display registration error -->
      <div *ngIf="registrationError" class="text-red-500 text-sm">{{ registrationError }}</div>

      <div class="text-center">
        <button
          type="submit"
          class="bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 rounded-full w-full"
        >
          Save Student Details
        </button>
      </div>
    </form>

    <!-- Show a message when registration is successful -->
    <div *ngIf="isRegistrationSuccessful" class="text-center">
      <p class="text-green-500 text-lg">Registration successful!</p>
      <p class="mt-4">
        You can now <a routerLink="/student-login" class="text-blue-500 underline">log in</a>.
      </p>
    </div>
  </div>
</div>
