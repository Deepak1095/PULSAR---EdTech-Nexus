<div class="flex justify-center py-12 px-4 sm:px-6 lg:px-8">
  <div class="max-w-md w-full space-y-8 border-4 border-gray-300 rounded p-4">
    <div>
      <h2 class="text-center text-3xl font-extrabold text-gray-900">
        Assignment Submission
      </h2>
    </div>
    <form (ngSubmit)="onSubmit()" enctype="multipart/form-data" class="mt-8 space-y-6">
      <!-- Submission Date is set to the current date and time -->
      <input type="hidden" [(ngModel)]="submissionDate" name="submission_date">
      
      <div class="mb-4">
        <label for="submissionChoice" class="block text-sm font-semibold mb-2">Submission Choice:</label>
        <select class="w-full border border-gray-300 rounded-md p-2 rounded" id="submissionChoice" [(ngModel)]="submissionChoice" name="submission_choice" required>
          <option value="" disabled selected hidden>Please select your submission choice</option>
          <option value="file">File</option>
          <option value="url">URL</option>
          <option value="text">Text</option>
        </select>
      </div>
      
      <!-- Display the corresponding input field based on the user's choice -->
      <div *ngIf="submissionChoice === 'text'" class="mb-4">
        <label for="submissionText" class="block font-semibold">Submission Text:</label>
        <textarea class="form-textarea mt-1 block w-full h-20 border border-gray-300 rounded-md" id="submissionText" [(ngModel)]="submissionText" name="submission_text"></textarea>
      </div>
      
      <div *ngIf="submissionChoice === 'url'" class="mb-4">
        <label for="submissionUrl" class="block font-semibold">Submission URL:</label>
        <input type="url" class="form-input mt-1 block w-full border border-gray-300 rounded-md" id="submissionUrl" [(ngModel)]="submissionUrl" name="submission_url">
      </div>
      
      <div *ngIf="submissionChoice === 'file'" class="mb-4">
        <label for="submissionFile" class="block font-semibold">Submission File:</label>
        <input type="file" class="form-input mt-1 block w-full border border-gray-300 rounded-md" id="submissionFile" (change)="onFileChange($event)" name="submission_file">
      </div>
      
      <div class="flex justify-center">
        <button type="submit" [disabled]="isSubmitted" class="group relative w-2/3 flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-500 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
          <span class="absolute left-0 inset-y-0 flex items-center pl-3">
            <!-- Heroicon name: solid/lock-closed -->
            <svg class="h-5 w-5 text-indigo-500 group-hover:text-indigo-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
              <path fill-rule="evenodd" d="M6.293 9.293a1 1 0 011.414 0L10 11.586l2.293-2.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" />
            </svg>
          </span>
          {{ isSubmitted ? 'Submitted' : 'Submit Assignment' }}
        </button>
      </div>
    </form>
  </div>
</div>
